# 心理学实验数据收集网站

这是一个完整的心理学实验数据收集网站，支持虚拟角色图片的人格印象评估实验。系统包含完整的前端界面、数据收集功能和管理员后台。

## 功能特点

### 实验流程
- ✅ **四阶段实验流程**：
  1. 知情同意与实验说明
  2. 练习试次（1个，数据不记录）
  3. 正式实验（3个部分，共32个试次）
     - 部分1：色调组（8个试次）
     - 部分2：明度组（12个试次）
     - 部分3：饱和度组（12个试次）
  4. 后测问卷与致谢

### 核心功能
- ✅ 支持上传自定义图片素材（按组分类管理）
- ✅ 7点Likert量表评分（支持点击和拖动）
- ✅ 自动记录所有实验数据（试次数据、答题时长等）
- ✅ 数据有效性验证（注意力检查、答题时长）
- ✅ 数据导出（CSV/Excel格式）
- ✅ 响应式设计（支持电脑、平板、手机）

### 管理员后台
- ✅ 素材管理（上传/删除图片）
- ✅ 实验配置（人格特质、情境描述、时长设置等）
- ✅ 数据管理（导出、预览、统计）
- ✅ 登录权限控制

## 文件结构

```
设计心理学实验数据收集网站/
├── index.html          # 主实验界面
├── admin.html          # 管理员后台界面
├── css/
│   ├── style.css      # 主界面样式
│   └── admin.css      # 管理员后台样式
├── js/
│   ├── config.js      # 配置文件（默认参数）
│   ├── data.js        # 数据管理模块（存储、导出）
│   ├── main.js        # 主实验逻辑
│   └── admin.js       # 管理员后台逻辑
└── README.md          # 使用说明文档
```

## 快速开始

### 1. 部署方式

#### 方式一：本地测试
直接使用浏览器打开 `index.html` 文件即可运行。数据将存储在浏览器的 localStorage 中。

#### 方式二：本地服务器（推荐）
使用 Python 或 Node.js 启动本地服务器：

**Python 3:**
```bash
# 在项目目录下运行
python -m http.server 8000
# 然后访问 http://localhost:8000
```

**Node.js:**
```bash
# 安装 http-server
npm install -g http-server
# 在项目目录下运行
http-server -p 8000
# 然后访问 http://localhost:8000
```

### 2. 管理员后台设置

1. 访问 `admin.html` 或点击后台链接
2. 使用默认账号登录：
   - 用户名：`admin`
   - 密码：`admin123`
3. 首次使用需要：
   - 上传实验图片素材（色调组8张、明度组12张、饱和度组12张）
   - 配置实验参数（人格特质形容词、情境描述等）
   - 保存配置

### 3. 开始实验

1. 访问 `index.html` 开始实验
2. 被试按照提示完成实验流程
3. 数据自动保存到浏览器本地存储

## 详细使用说明

### 管理员后台操作

#### 素材管理

1. **上传图片**：
   - 点击"素材管理"标签
   - 选择对应的图片组（色调组/明度组/饱和度组）
   - 点击"上传图片"按钮
   - 选择图片文件（支持多选）
   - 图片会自动显示在下方网格中

2. **删除图片**：
   - 在图片网格中找到要删除的图片
   - 点击图片下方的"删除"按钮
   - 确认删除操作

**注意**：
- 色调组建议上传8张图片（仅服装颜色不同：红、橙、黄、绿、蓝、紫等）
- 明度组建议上传12张图片（控制色相和饱和度，仅明度不同）
- 饱和度组建议上传12张图片（控制色相和明度，仅饱和度不同）

#### 实验配置

1. **人格特质形容词**：
   - 默认对应大五人格维度：开放性、尽责性、外向性、宜人性、神经质
   - 可在"实验配置"标签中修改这5个特质词
   - 修改后点击"保存配置"

2. **情境描述**：
   - 可设置1-2个社交情境描述
   - 例如："首次加入新社群"、"在职场中初次合作"
   - 情境会随机分配给正式实验的试次

3. **图片展示时长**：
   - 设置每张图片的展示时长（秒）
   - 默认8秒，范围5-30秒
   - 被试可提前完成评分并点击"下一题"

4. **休息间隔时长**：
   - 设置各部分之间的休息时长（秒）
   - 默认180秒（3分钟）
   - 被试可提前点击"立即继续"跳过休息

5. **注意力检查题**：
   - 可设置2道注意力检查题
   - 第一题建议设置为要求选择特定选项（如"非常同意"）
   - 第二题建议设置为实验内容相关（如"您看到的主要是什么"）
   - 系统会自动识别正确答案并验证数据有效性

6. **开放性问题**：
   - 可自定义开放性问题文本
   - 被试的回答会记录在数据中

7. **致谢信息**：
   - 可自定义实验完成后的致谢文案
   - 默认包含报酬发放说明

8. **数据有效性判定**：
   - 设置最短答题时长（分钟）
   - 默认10分钟，低于此时长的数据会被标记为无效
   - 未通过注意力检查的数据也会被标记为无效

#### 数据管理

1. **导出数据**：
   - 点击"数据管理"标签
   - 可选择日期范围（可选，留空则导出所有数据）
   - 点击"导出数据（CSV）"或"导出数据（Excel）"
   - 文件会自动下载，文件名包含日期

2. **数据预览**：
   - 在"数据管理"标签中可查看最近10条数据
   - 显示被试ID、时间、年龄、性别、时长、试次数、有效性等信息

3. **统计信息**：
   - 在"统计信息"标签中查看：
     - 总参与人数
     - 有效数据数量
     - 无效数据数量
     - 平均完成时长

4. **清空数据**：
   - 谨慎操作！点击"清空所有数据"按钮
   - 确认后会删除所有实验数据
   - 此操作不可恢复

### 实验流程说明

#### 对于被试

1. **知情同意**：
   - 仔细阅读知情同意书
   - 了解实验目的、数据用途、匿名保护等信息
   - 点击"我已阅读并同意参与实验"进入下一步

2. **实验说明**：
   - 阅读实验说明，了解评分规则
   - 查看需要评估的5个人格特质
   - 点击"开始练习"进行练习试次

3. **练习试次**：
   - 看到虚拟角色图片和情境描述
   - 对5个人格特质进行7点量表评分（1=完全不符合，7=完全符合）
   - 完成所有评分后点击"下一题"
   - 练习数据不会被记录

4. **正式实验**：
   - 共3个部分，每部分之间会有休息时间
   - 每个试次流程与练习相同
   - 图片有倒计时，可提前完成评分
   - 休息时间可提前点击"立即继续"跳过

5. **后测问卷**：
   - 填写年龄、性别
   - 回答2道注意力检查题
   - 回答开放性问题（选填）
   - 点击"提交问卷"

6. **完成**：
   - 查看致谢信息
   - 实验完成

#### 数据记录说明

系统会自动记录以下数据：

- **被试信息**：唯一ID（匿名）、年龄、性别
- **实验信息**：开始时间、结束时间、总时长
- **试次数据**：每个试次的图片组别、图片名称、情境描述、5个人格特质评分、答题时长
- **有效性数据**：注意力检查题答案、是否有效、无效原因

## 数据格式说明

导出的CSV/Excel文件包含以下列：

1. **基本信息列**：
   - 被试ID
   - 开始时间
   - 结束时间
   - 总时长(分钟)
   - 年龄
   - 性别
   - 注意力检查1答案
   - 注意力检查2答案
   - 开放性问题回答
   - 是否有效
   - 无效原因

2. **试次数据列**（每个试次9列）：
   - 试次N_图片组别
   - 试次N_图片名称
   - 试次N_情境描述
   - 试次N_特质1
   - 试次N_特质2
   - 试次N_特质3
   - 试次N_特质4
   - 试次N_特质5
   - 试次N_答题时长(秒)

## 技术说明

### 数据存储

- **本地测试**：使用浏览器的 localStorage 存储数据
- **部署建议**：如需服务器部署，可修改 `data.js` 中的数据存储逻辑，改为使用后端API

### 浏览器兼容性

- Chrome（推荐）
- Edge
- Safari
- Firefox

### 注意事项

1. **数据备份**：定期导出数据并备份，避免数据丢失
2. **图片大小**：建议图片大小不超过2MB，确保加载速度
3. **浏览器设置**：确保浏览器允许使用localStorage
4. **隐私保护**：系统不收集任何可识别个人信息，所有数据匿名化

## 自定义修改

### 修改人格特质形容词

1. 在管理员后台的"实验配置"中修改
2. 或直接修改 `js/config.js` 文件中的 `defaultTraits` 数组

### 修改试次数量

修改 `js/config.js` 文件中的 `trialCounts` 对象：

```javascript
trialCounts: {
    practice: 1,      // 练习试次数
    hue: 8,          // 色调组试次数
    brightness: 12,  // 明度组试次数
    saturation: 12   // 饱和度组试次数
}
```

### 修改管理员账号密码

修改 `js/config.js` 文件中的 `admin` 对象：

```javascript
admin: {
    username: 'your_username',
    password: 'your_password'
}
```

## 常见问题

**Q: 数据保存在哪里？**
A: 数据保存在浏览器的localStorage中。每个浏览器和设备的数据是独立的。

**Q: 如何在不同设备间同步数据？**
A: 需要部署到服务器并修改数据存储逻辑，使用后端数据库。

**Q: 图片上传后在哪里存储？**
A: 图片以Base64格式存储在localStorage中。localStorage有大小限制（通常5-10MB），建议控制图片数量和大小。

**Q: 如何清空单个被试的数据？**
A: 目前只能通过导出数据后在Excel中筛选，或清空所有数据。可在 `data.js` 中添加删除单个数据的函数。

**Q: 如何修改实验流程？**
A: 修改 `js/main.js` 文件中的相关函数。代码已添加详细注释，便于理解。

## 技术支持

如有问题或建议，请查看代码注释或联系开发者。

## 许可证

本项目仅供学术研究使用。


